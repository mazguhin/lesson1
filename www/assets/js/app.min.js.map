{"version":3,"sources":["../src/js/reset.js","../src/js/config.js","../src/js/utils.js","../src/js/utils/animation.js","../src/js/utils/blockMobileScroll.js","../src/js/utils/classDelayed.js","../src/js/utils/detectMobile.js","../src/js/utils/error.js","../src/js/utils/event.js","../src/js/utils/getParameter.js","../src/js/utils/jquery.clicktouch.js","../src/js/utils/jquery.swipe.js","../src/js/utils/math.js","../src/js/utils/preload.js","../src/js/utils/respond.js","../src/js/utils/scrollbarWidth.js","../src/js/utils/share.js","../src/js/utils/transform.js","../src/js/utils/validation.js","../src/js/app.js"],"names":["method","methods","length","console","window","app","config","state","$document","$","document","$window","$html","$body","utils","animateBody","top","animate","scrollTop","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","initBlockMobileScroll","on","e","hasClass","preventDefault","currentTarget","scrollHeight","offsetHeight","this","innerHeight","stopPropagation","jQuery","fn","extend","addClassDelayed","className","delay","$el","addClass","removeClassDelayed","removeClass","detectMobile","Windows","test","navigator","userAgent","Android","BlackBerry","iOS","any","serverErrorText","serverError","alert","event","category","action","label","value","ga","toString","clickEvent","click","getParameter","name","replace","results","RegExp","exec","location","search","decodeURIComponent","onTouchStartHandler","isTap","off","clicktouch","func","css","proxy","swipe","leftHandler","rightHandler","xDown","yDown","swiped","originalEvent","touches","clientX","clientY","xUp","changedTouches","yUp","xDiff","yDiff","Math","abs","declineNumeral","number","titles","cases","Number","prototype","mod","n","leadingZeros","num","size","s","linear","min","max","k","formatNumber","val","thSep","dcSep","res","lZero","fLen","lastIndexOf","tmpRes","substring","cnt","ind","charAt","bezier","x1","y1","x2","y2","epsilon","curveX","t","v","curveY","derivativeCurveX","t0","t1","t2","d2","i","x","preload","arrayOfImages","images","_","each","url","image","Image","push","onload","src","isMobile","width","getScrollbarWidth","scrollDiv","createElement","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","share","service","title","link","encodeURIComponent","openPopup","left","screen","height","open","focus","setCoords","target","y","setTransform","setScale","scale","transform","removeScale","isValidEmail","email","toggleClass","toggle","text"],"mappings":"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","file":"app.min.js","sourcesContent":["(function() {\n    var method;\n    var noop = function () {};\n    var methods = [\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n        'timeStamp', 'trace', 'warn'\n    ];\n    var length = methods.length;\n    var console = (window.console = window.console || {});\n\n    while (length--) {\n        method = methods[length];\n\n        // Only stub undefined methods.\n        if (!console[method]) {\n            console[method] = noop;\n        }\n    }\n}());","var app = app || {};\n\napp.config = {\n};\n\napp.state = {\n};\n\n\n//Selectors\napp.$document = $(document);\napp.$window = $(window);\napp.$html = $('html');\napp.$body = $('body');\n\n","var app = app || {};\napp.utils = app.utils || {};\n\n","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.animateBody = function(top) {\n    app.$('html,body').animate({scrollTop: top}, 300);\n};\n\nwindow.requestAnimFrame = (function () {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        function (callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n","app.utils.initBlockMobileScroll = function() {\n    $(document).on('touchmove',function(e){\n        if($('body').hasClass('is_block-scrolling')) {\n            e.preventDefault();\n        }\n    });\n    $('body').on('touchstart', '.mobile-scroll', function(e) {\n        if (e.currentTarget.scrollTop === 0) {\n            e.currentTarget.scrollTop = 1;\n        } else if (e.currentTarget.scrollHeight === e.currentTarget.scrollTop + e.currentTarget.offsetHeight) {\n            e.currentTarget.scrollTop -= 1;\n        }\n    });\n    $('body').on('touchmove', '.mobile-scroll', function(e) {\n        if($(this)[0].scrollHeight > $(this).innerHeight()) {\n            e.stopPropagation();\n        }\n    });\n};","(function ($) {\n    \n    jQuery.fn.extend({\n        addClassDelayed: function (className, delay) {\n            var $el = app.$(this);\n            delay = delay || 30;\n            setTimeout(function () {\n                $el.addClass(className);\n            }, delay);\n        },\n        removeClassDelayed: function (className, delay) {\n            var $el = app.$(this);\n            delay = delay || 30;\n            setTimeout(function () {\n                $el.removeClass(className);\n            }, delay);\n        }\n    });\n\n})(jQuery);","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.detectMobile = {\n    Windows: function () {\n        return /IEMobile/i.test(navigator.userAgent);\n    },\n    Android: function () {\n        return /Android/i.test(navigator.userAgent);\n    },\n    BlackBerry: function () {\n        return /BlackBerry/i.test(navigator.userAgent);\n    },\n    iOS: function () {\n        return /iPhone|iPad|iPod/i.test(navigator.userAgent);\n    },\n    any: function () {\n        return (app.utils.detectMobile.Android() || app.utils.detectMobile.BlackBerry() || app.utils.detectMobile.iOS() || app.utils.detectMobile.Windows());\n    }\n};\n\n(function(){\n    if(app.utils.detectMobile.Android()) {\n        app.$html.addClass('is_android');\n    }\n    if(app.utils.detectMobile.iOS()) {\n        app.$html.addClass('is_ios');\n    }\n    if(app.utils.detectMobile.any()) {\n        app.$html.addClass('is_mobile');\n    }\n})();","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.serverErrorText = 'Ошибка доступа к серверу, попробуйте позже';\napp.utils.serverError = function () {\n    alert(app.utils.serverErrorText);\n};\n","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.event = function (category, action, label, value) {\n    if (typeof ga == 'function') {\n        if (typeof action == 'undefined') {\n            action = 'event';\n        }\n        else {\n            action = action.toString();\n        }\n\n        ga('send', 'event', category, action, label, value);\n    }\n};\n\n(function ($) {\n    jQuery.fn.extend({\n        clickEvent: function (category, action, label, value) {\n            app.$(this).click(function () {\n                app.utils.event(category, action, label, value);\n            });\n        }\n    });\n})(jQuery);","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.getParameter = function (name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n};\n","(function ($) {\n\n    function onTouchStartHandler() {\n        app.config.isTap = true;\n        app.$document.off('touchstart', onTouchStartHandler);\n        app.$document.off('MSPointerDown', onTouchStartHandler);\n    }\n\n    app.$document.on('touchstart', onTouchStartHandler);\n    app.$document.on('MSPointerDown', onTouchStartHandler);\n\n    jQuery.fn.extend({\n        clicktouch: function (func) {\n\n            $(this).css('-webkit-tap-highlight-color', 'rgba(0,0,0,0)');\n\n            $(this).on(\"touchstart MSPointerDown\", function (e) {\n\n                var newfunc = $.proxy(func, this);\n                newfunc(e);\n\n                e.preventDefault();\n                e.stopPropagation();\n            });\n\n            $(this).on(\"touchmove MSPointerMove\", function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n            });\n\n            $(this).on(\"click\", function (e) {\n                if (app.config.isTap) {\n                    e.preventDefault();\n                    return false;\n                }\n                var newfunc = $.proxy(func, this);\n                newfunc(e);\n            });\n        }\n    });\n})(jQuery);","(function ($) {\n    jQuery.fn.extend({\n        swipe: function (leftHandler, rightHandler) {\n            var xDown, yDown, swiped;\n\n            this\n                .on('touchstart', function (e) {\n                    xDown = e.originalEvent.touches[0].clientX;\n                    yDown = e.originalEvent.touches[0].clientY;\n                    swiped = false;\n                })\n                .on('touchmove', function (e) {\n                    if (!xDown || !yDown) return;\n\n                    var xUp = e.originalEvent.changedTouches[0].clientX;\n                    var yUp = e.originalEvent.changedTouches[0].clientY;\n\n                    var xDiff = xDown - xUp;\n                    var yDiff = yDown - yUp;\n                    var horizontal = Math.abs(xDiff) > 10 && Math.abs(xDiff) > Math.abs(yDiff);\n\n                    if (horizontal && !swiped) {\n                        var newfunc;\n                        if (xDiff > 0) {\n                            newfunc = app.$.proxy(rightHandler, this);\n                        } else {\n                            newfunc = app.$.proxy(leftHandler, this);\n                        }\n\n                        newfunc(e);\n                        swiped = true;\n                    }\n\n                    if (swiped) {\n                        e.preventDefault();\n                    }\n                })\n                .on('touchend touchcancel', function (e) {\n                    xDown = null;\n                    yDown = null;\n                });\n        }\n    });\n})(jQuery);\n","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.declineNumeral = function (number, titles) {\n    var cases = [2, 0, 1, 1, 1, 2];\n    return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\n};\n\nNumber.prototype.mod = function (n) {\n    return ((this % n) + n) % n;\n};\n\napp.utils.leadingZeros = function (num, size) {\n    size = typeof size !== 'undefined' ? size : 2;\n\n    var s = num + \"\";\n    while (s.length < size) s = \"0\" + s;\n    return s;\n};\n\napp.utils.linear = function (min, max, k) {\n    return (max - min) * k + min;\n};\n\napp.utils.formatNumber = function (val, thSep, dcSep) {\n    // Проверка указания разделителя разрядов\n    if (!thSep)\n        thSep = ' ';\n\n    // Проверка указания десятичного разделителя\n    if (!dcSep)\n        dcSep = ',';\n\n    var res = val.toString();\n    var lZero = (val < 0); // Признак отрицательного числа\n\n    // Определение длины форматируемой части\n    var fLen = res.lastIndexOf('.'); // До десятичной точки\n    fLen = (fLen > -1) ? fLen : res.length;\n\n    // Выделение временного буфера\n    var tmpRes = res.substring(fLen);\n    var cnt = -1;\n    for (var ind = fLen; ind > 0; ind--) {\n        // Формируем временный буфер\n        cnt++;\n        if (((cnt % 3) === 0) && (ind !== fLen) && (!lZero || (ind > 1))) {\n            tmpRes = thSep + tmpRes;\n        }\n        tmpRes = res.charAt(ind - 1) + tmpRes;\n    }\n\n    return tmpRes.replace('.', dcSep);\n};\n\napp.utils.bezier = function (x1, y1, x2, y2, epsilon) {\n\n    var curveX = function (t) {\n        var v = 1 - t;\n        return 3 * v * v * t * x1 + 3 * v * t * t * x2 + t * t * t;\n    };\n\n    var curveY = function (t) {\n        var v = 1 - t;\n        return 3 * v * v * t * y1 + 3 * v * t * t * y2 + t * t * t;\n    };\n\n    var derivativeCurveX = function (t) {\n        var v = 1 - t;\n        return 3 * (2 * (t - 1) * t + v * v) * x1 + 3 * (-t * t * t + 2 * v * t) * x2;\n    };\n\n    return function (t) {\n\n        var x = t, t0, t1, t2, x2, d2, i;\n\n        // First try a few iterations of Newton's method -- normally very fast.\n        for (t2 = x, i = 0; i < 8; i++) {\n            x2 = curveX(t2) - x;\n            if (Math.abs(x2) < epsilon) return curveY(t2);\n            d2 = derivativeCurveX(t2);\n            if (Math.abs(d2) < 1e-6) break;\n            t2 = t2 - x2 / d2;\n        }\n\n        t0 = 0, t1 = 1, t2 = x;\n\n        if (t2 < t0) return curveY(t0);\n        if (t2 > t1) return curveY(t1);\n\n        // Fallback to the bisection method for reliability.\n        while (t0 < t1) {\n            x2 = curveX(t2);\n            if (Math.abs(x2 - x) < epsilon) return curveY(t2);\n            if (x > x2) t0 = t2;\n            else t1 = t2;\n            t2 = (t1 - t0) * .5 + t0;\n        }\n\n        // Failure\n        return curveY(t2);\n\n    };\n\n};","var app = app || {};\napp.utils = app.utils || {};\n\n\napp.utils.preload = function (arrayOfImages, callback) {\n    var images = [];\n    var i = 0;\n    _.each(arrayOfImages, function (url) {\n        var image = new Image;\n        images.push(image);\n        image.onload = function () {\n            i++;\n            if (callback) {\n                callback(i / arrayOfImages.length);\n            }\n        };\n        image.src = url;\n    });\n    return images;\n};","app.utils.isMobile = function () {\n    return app.$window.width() <= 960;\n};","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.getScrollbarWidth = function () {\n    var scrollDiv = document.createElement(\"div\");\n    scrollDiv.className = \"scrollbar-measure\";\n    document.body.appendChild(scrollDiv);\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n};","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.share = function (service, url, title) {\n    var link = \"http://share.yandex.ru/go.xml?\" +\n        \"service=\" + service +\n        \"&url=\" + encodeURIComponent(url) +\n        \"&title=\" + encodeURIComponent(title);\n    app.utils.openPopup(link);\n};\n\napp.utils.openPopup = function (url) {\n    var width = 800, height = 500;\n    var left = (window.screen.width - width) / 2;\n    var top = (window.screen.height - height) / 2;\n    var win = window.open(url, \"vote\", \"height=\" + height + \",width=\" + width + \",top=\" + top + \",left=\" + left);\n    win.focus();\n};","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.setCoords = function (target, x, y) {\n    app.utils.setTransform(target, 'translate(' + x + 'px, ' + y + 'px)');\n};\n\napp.utils.setScale = function (target, scale) {\n    app.utils.setTransform(target, 'scale(' + scale + ')');\n};\n\napp.utils.setTransform = function (target, transform) {\n    target.css('-webkit-transform', transform);\n    target.css('-ms-transform', transform);\n    target.css('transform', transform);\n};\n\n(function ($) {\n    jQuery.fn.extend({\n        transform: function (transform) {\n            app.utils.setTransform($(this), transform);\n        }\n    });\n\n    jQuery.fn.extend({\n        setScale: function (scale) {\n            app.$(this).css('font-size', scale + 'em');\n        },\n\n        removeScale: function () {\n            app.$(this).css('font-size', '');\n        }\n    });\n\n})(jQuery);","var app = app || {};\napp.utils = app.utils || {};\n\napp.utils.isValidEmail = function (email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n};\n","(function () {\n    'use strict';\n\n    var title = true;\n\n    $('.switch-info').click(function () {\n       $('.layout__header').toggleClass('layout__header_gray');\n       $('.layout__info').toggle();\n\n       title = !title;\n       if (title) {\n           $('.switch-info a').text('stories');\n       } else {\n           $('.switch-info a').text('info');\n       }\n    });\n})();"]}