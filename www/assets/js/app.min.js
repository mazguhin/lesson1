!function(){for(var t,e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=e.length,i=window.console=window.console||{};n--;)i[t=e[n]]||(i[t]=function(){})}();var app=app||{};app.config={},app.state={},app.$document=$(document),app.$window=$(window),app.$html=$("html"),app.$body=$("body"),(app=app||{}).utils=app.utils||{},(app=app||{}).utils=app.utils||{},app.utils.animateBody=function(t){app.$("html,body").animate({scrollTop:t},300)},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},app.utils.initBlockMobileScroll=function(){$(document).on("touchmove",function(t){$("body").hasClass("is_block-scrolling")&&t.preventDefault()}),$("body").on("touchstart",".mobile-scroll",function(t){0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1)}),$("body").on("touchmove",".mobile-scroll",function(t){$(this)[0].scrollHeight>$(this).innerHeight()&&t.stopPropagation()})},jQuery,jQuery.fn.extend({addClassDelayed:function(t,e){var n=app.$(this);e=e||30,setTimeout(function(){n.addClass(t)},e)},removeClassDelayed:function(t,e){var n=app.$(this);e=e||30,setTimeout(function(){n.removeClass(t)},e)}}),(app=app||{}).utils=app.utils||{},app.utils.detectMobile={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return app.utils.detectMobile.Android()||app.utils.detectMobile.BlackBerry()||app.utils.detectMobile.iOS()||app.utils.detectMobile.Windows()}},app.utils.detectMobile.Android()&&app.$html.addClass("is_android"),app.utils.detectMobile.iOS()&&app.$html.addClass("is_ios"),app.utils.detectMobile.any()&&app.$html.addClass("is_mobile"),(app=app||{}).utils=app.utils||{},app.utils.serverErrorText="Ошибка доступа к серверу, попробуйте позже",app.utils.serverError=function(){alert(app.utils.serverErrorText)},(app=app||{}).utils=app.utils||{},app.utils.event=function(t,e,n,i){"function"==typeof ga&&(e=void 0===e?"event":e.toString(),ga("send","event",t,e,n,i))},jQuery,jQuery.fn.extend({clickEvent:function(t,e,n,i){app.$(this).click(function(){app.utils.event(t,e,n,i)})}}),(app=app||{}).utils=app.utils||{},app.utils.getParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))},function(t){function e(){app.config.isTap=!0,app.$document.off("touchstart",e),app.$document.off("MSPointerDown",e)}app.$document.on("touchstart",e),app.$document.on("MSPointerDown",e),jQuery.fn.extend({clicktouch:function(e){t(this).css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),t(this).on("touchstart MSPointerDown",function(n){t.proxy(e,this)(n),n.preventDefault(),n.stopPropagation()}),t(this).on("touchmove MSPointerMove",function(t){t.preventDefault(),t.stopPropagation()}),t(this).on("click",function(n){if(app.config.isTap)return n.preventDefault(),!1;t.proxy(e,this)(n)})}})}(jQuery),jQuery,jQuery.fn.extend({swipe:function(t,e){var n,i,o;this.on("touchstart",function(t){n=t.originalEvent.touches[0].clientX,i=t.originalEvent.touches[0].clientY,o=!1}).on("touchmove",function(a){if(n&&i){var r=a.originalEvent.changedTouches[0].clientX,p=a.originalEvent.changedTouches[0].clientY,u=n-r,s=i-p;if(Math.abs(u)>10&&Math.abs(u)>Math.abs(s)&&!o){(u>0?app.$.proxy(e,this):app.$.proxy(t,this))(a),o=!0}o&&a.preventDefault()}}).on("touchend touchcancel",function(t){n=null,i=null})}}),(app=app||{}).utils=app.utils||{},app.utils.declineNumeral=function(t,e){var n=[2,0,1,1,1,2];return e[t%100>4&&t%100<20?2:n[t%10<5?t%10:5]]},Number.prototype.mod=function(t){return(this%t+t)%t},app.utils.leadingZeros=function(t,e){e=void 0!==e?e:2;for(var n=t+"";n.length<e;)n="0"+n;return n},app.utils.linear=function(t,e,n){return(e-t)*n+t},app.utils.formatNumber=function(t,e,n){e||(e=" "),n||(n=",");var i=t.toString(),o=t<0,a=i.lastIndexOf(".");a=a>-1?a:i.length;for(var r=i.substring(a),p=-1,u=a;u>0;u--)++p%3==0&&u!==a&&(!o||u>1)&&(r=e+r),r=i.charAt(u-1)+r;return r.replace(".",n)},app.utils.bezier=function(t,e,n,i,o){var a=function(e){var i=1-e;return 3*i*i*e*t+3*i*e*e*n+e*e*e},r=function(t){var n=1-t;return 3*n*n*t*e+3*n*t*t*i+t*t*t},p=function(e){var i=1-e;return 3*(2*(e-1)*e+i*i)*t+3*(-e*e*e+2*i*e)*n};return function(t){var e,n,i,u,s,l,c=t;for(i=c,l=0;l<8;l++){if(u=a(i)-c,Math.abs(u)<o)return r(i);if(s=p(i),Math.abs(s)<1e-6)break;i-=u/s}if(e=0,n=1,(i=c)<e)return r(e);if(i>n)return r(n);for(;e<n;){if(u=a(i),Math.abs(u-c)<o)return r(i);c>u?e=i:n=i,i=.5*(n-e)+e}return r(i)}},(app=app||{}).utils=app.utils||{},app.utils.preload=function(t,e){var n=[],i=0;return _.each(t,function(o){var a=new Image;n.push(a),a.onload=function(){i++,e&&e(i/t.length)},a.src=o}),n},app.utils.isMobile=function(){return app.$window.width()<=960},(app=app||{}).utils=app.utils||{},app.utils.getScrollbarWidth=function(){var t=document.createElement("div");t.className="scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},(app=app||{}).utils=app.utils||{},app.utils.share=function(t,e,n){var i="http://share.yandex.ru/go.xml?service="+t+"&url="+encodeURIComponent(e)+"&title="+encodeURIComponent(n);app.utils.openPopup(i)},app.utils.openPopup=function(t){var e=(window.screen.width-800)/2,n=(window.screen.height-500)/2;window.open(t,"vote","height=500,width=800,top="+n+",left="+e).focus()},(app=app||{}).utils=app.utils||{},app.utils.setCoords=function(t,e,n){app.utils.setTransform(t,"translate("+e+"px, "+n+"px)")},app.utils.setScale=function(t,e){app.utils.setTransform(t,"scale("+e+")")},app.utils.setTransform=function(t,e){t.css("-webkit-transform",e),t.css("-ms-transform",e),t.css("transform",e)},function(t){jQuery.fn.extend({transform:function(e){app.utils.setTransform(t(this),e)}}),jQuery.fn.extend({setScale:function(t){app.$(this).css("font-size",t+"em")},removeScale:function(){app.$(this).css("font-size","")}})}(jQuery),(app=app||{}).utils=app.utils||{},app.utils.isValidEmail=function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},function(){"use strict";var t=!0;$(".switch-info").click(function(){$(".layout__header").toggleClass("layout__header_gray"),$(".layout__info").toggle(),(t=!t)?$(".switch-info a").text("stories"):$(".switch-info a").text("info")})}();
//# sourceMappingURL=app.min.js.map